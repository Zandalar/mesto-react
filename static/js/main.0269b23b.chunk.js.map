{"version":3,"sources":["contexts/CurrentUserContext.js","utils/Api.js","images/header__logo.svg","components/Header.js","utils/Preloader.js","components/Card.js","components/Main.js","components/Footer.js","components/ImagePopup.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/DeletionCardPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["CurrentUserContext","React","createContext","api","options","this","_baseUrl","baseUrl","_headers","headers","res","ok","json","Promise","reject","Error","status","fetch","then","_checkAnswer","data","method","body","JSON","stringify","name","about","link","id","isLiked","authorization","Header","className","src","logo","alt","Preloader","Card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","likes","some","i","type","onClick","length","Main","cards","onEditAvatar","onEditProfile","onAddPlace","isLoading","avatar","Array","from","map","Footer","ImagePopup","onClose","isOpen","isolatePopup","PopupWithForm","title","buttonText","onSubmit","children","EditProfilePopup","onUpdateUser","useState","setName","description","setDescription","useEffect","evt","preventDefault","value","minLength","maxLength","onChange","target","required","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","current","placeholder","AddPlacePopup","setTitle","setLink","DeletionCardPopup","handleSubmit","card","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isImagePopupOpen","setIsImagePopupOpen","isDeletionCardPopupOpen","setIsDeletionCardPopupOpen","setIsLoading","selectedCard","setSelectedCard","setCurrentUser","setCards","handleEscClick","key","closeAllPopups","window","removeEventListener","stopPropagation","promises","getUserInfo","getInitialCards","all","userData","cardsList","catch","err","console","log","Provider","item","changeLikeCardStatus","newCard","newCards","addEventListener","user","setUserInfo","setNewCard","editAvatar","deleteCard","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.0269b23b.chunk.js","sourcesContent":["import React from 'react';\n\nexport const CurrentUserContext = React.createContext();\n\nexport const currentUser = {};\n","class Api {\n  constructor(options) {\n    this._baseUrl = options.baseUrl;\n    this._headers = options.headers;\n  }\n\n  _checkAnswer(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(new Error(res.status))\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}/users/me`, {\n      headers: this._headers\n    })\n      .then(this._checkAnswer)\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}/users/me`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    })\n      .then(this._checkAnswer)\n  }\n\n  getInitialCards() {\n    return fetch(`${this._baseUrl}/cards`, {\n      headers: this._headers\n    })\n      .then(this._checkAnswer)\n  }\n\n  setNewCard(data) {\n    return fetch(`${this._baseUrl}/cards`, {\n      method: \"POST\",\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link\n      })\n    })\n      .then(this._checkAnswer)\n  }\n\n  changeLikeCardStatus(id, isLiked) {\n    return fetch(`${this._baseUrl}/cards/likes/${id}`, {\n      method: `${isLiked ? \"PUT\" : \"DELETE\"}`,\n      headers: this._headers\n    })\n      .then(this._checkAnswer)\n  }\n\n  deleteCard(id) {\n    return fetch(`${this._baseUrl}/cards/${id}`, {\n      method: \"DELETE\",\n      headers: this._headers\n    })\n      .then(this._checkAnswer)\n  }\n\n  editAvatar(data) {\n    return fetch(`${this._baseUrl}/users/me/avatar`, {\n      method: \"PATCH\",\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._checkAnswer)\n  }\n}\n\nconst api = new Api({\n  baseUrl: 'https://mesto.nomoreparties.co/v1/cohort-16',\n  headers: {\n    authorization: '41df799d-3987-4f60-8d34-e2c5aaa920c0',\n    'Content-Type': 'application/json',\n  }\n})\n\nexport default api;\n","export default __webpack_public_path__ + \"static/media/header__logo.a307e1c4.svg\";","import React from 'react';\nimport logo from \"../images/header__logo.svg\";\n\nfunction Header() {\n  return (\n    <header className=\"header\">\n      <img className=\"header__logo\" src={logo} alt=\"Логотип сайта\" />\n    </header>\n  )\n}\n\nexport default Header;\n","import React from 'react';\n\nfunction Preloader() {\n\treturn (\n\t\t<div className=\"preloader\" />\n\t)\n}\n\nexport default Preloader;\n","import React from 'react';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Card({ data, onCardClick, onCardLike, onCardDelete }) {\n  const currentUser = React.useContext(CurrentUserContext);\n  const isOwn = data.owner._id === currentUser._id;\n  const cardDeleteButtonClassName = (`element__button-delete ${isOwn && 'element__button-delete_active'}`);\n  const isLiked = data.likes.some(i => i._id === currentUser._id);\n  const cardLikeButtonClassName = 'element__button-like_active';\n\n  function handleCardClick() {\n\t\tonCardClick(data);\n\t}\n\n\tfunction handleLikeClick() {\n    onCardLike(data);\n  }\n\n  function handleDeleteClick() {\n    onCardDelete(data);\n  }\n\n\treturn (\n\t\t<li className=\"element\" id={data._id}>\n\t\t\t<button className={cardDeleteButtonClassName} type=\"button\" onClick={handleDeleteClick}>\n\t\t\t\t<div className=\"element__button-delete_top\" />\n\t\t\t\t<div className=\"element__button-delete_bottom\" />\n\t\t\t</button>\n\t\t\t<img className=\"element__photo\" src={data.link} alt={data.name} onClick={handleCardClick} />\n\t\t\t\t<div className=\"element__description\">\n\t\t\t\t\t<h2 className=\"element__title\">{data.name}</h2>\n\t\t\t\t\t<div className=\"element__like-container\">\n\t\t\t\t\t\t<button className={`element__button-like ${isLiked && cardLikeButtonClassName}`} type=\"button\" onClick={handleLikeClick} />\n\t\t\t\t\t\t<div className=\"element__like-count\">{data.likes.length}</div>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t</li>\n\t)\n}\n\nexport default Card;\n","import React from 'react';\nimport Preloader from '../utils/Preloader';\nimport Card from './Card';\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\n\nfunction Main({ cards, onCardLike, onCardDelete, onCardClick, onEditAvatar, onEditProfile, onAddPlace, isLoading }) {\n  const currentUser = React.useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile\">\n        <div className=\"profile__avatar-container\">\n          <button className=\"profile__button-avatar\" id=\"avatar__button-edit\" type=\"button\" onClick={onEditAvatar} />\n          <img className=\"profile__avatar\" id=\"avatar\" src={currentUser.avatar} alt=\"Фото профиля\" />\n        </div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__info_name\">{currentUser.name}</h1>\n          <button className=\"profile__info_button-edit\" id=\"button-edit\" name=\"button-edit\" type=\"button\" onClick={onEditProfile} />\n          <h2 className=\"profile__info_about\">{currentUser.about}</h2>\n        </div>\n        <button className=\"profile__button-add\" id=\"button-add\" name=\"button-add\" type=\"button\" onClick={onAddPlace} />\n      </section>\n\n      <section className=\"elements\">\n        <ul className=\"element__table\">\n          {isLoading\n            ? <Preloader />\n            : Array.from(cards).map(data => {\n              return (\n                <Card key={data._id} data={data} onCardClick={onCardClick} onCardLike={onCardLike} onCardDelete={onCardDelete}/>\n              )\n            })\n          }\n        </ul>\n      </section>\n    </main>\n  )\n}\n\nexport default Main;\n","import React from 'react';\n\nfunction Footer () {\n  return (\n    <footer className=\"footer\">\n      <p className=\"footer__copyright\">&copy; 2020 Mesto Russia</p>\n    </footer>\n  )\n}\n\nexport default Footer;","import React from \"react\";\r\n\r\nfunction ImagePopup({ name, data, onClose, isOpen, isolatePopup }) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} id=\"popup__image\" onClick={onClose}>\r\n      <div className=\"popup__container_image\" onClick={isolatePopup}>\r\n        <img className=\"popup__image\" src={data.link} alt={data.name} />\r\n        <h2 className=\"popup__title_image\">{data.name}</h2>\r\n        <button className=\"popup__button-close\" id=\"image__button-close\" type=\"button\" onClick={onClose} />\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ImagePopup;\r\n","import React from 'react';\r\n\r\nfunction PopupWithForm({ name, title, buttonText, isOpen, onClose, onSubmit, children, isolatePopup }) {\r\n  return (\r\n    <div className={`popup popup_type_${name} ${isOpen && 'popup_opened'}`} id=\"popup__profile\" onClick={onClose}>\r\n      <div className=\"popup__container\" onClick={isolatePopup}>\r\n        <button className=\"popup__button-close\" id=\"profile__button-close\" type=\"button\" onClick={onClose} />\r\n        <h2 className=\"popup__title\">{title}</h2>\r\n        <form className=\"popup__form\" name={name} onSubmit={onSubmit} >\r\n          {children}\r\n          <button className=\"popup__button-save\" id=\"profile__button-save\" type=\"submit\">{buttonText}</button>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PopupWithForm;\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup({ isOpen, onClose, onUpdateUser, isLoading, isolatePopup }) {\r\n  const [name, setName] = React.useState('');\r\n  const [description, setDescription] = React.useState('');\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  function handleNameChange(evt) {\r\n    setName(evt.target.value);\r\n  }\r\n\r\n  function handleDescriptionChange(evt) {\r\n    setDescription(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    });\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser]);\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Редактировать профиль'\r\n      buttonText={`${isLoading ? 'Сохранение...' : 'Сохранить'}`}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isolatePopup={isolatePopup}\r\n    >\r\n      <input\r\n        className=\"popup__field\"\r\n        id=\"profile__name\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        value={name || ''}\r\n        minLength=\"2\"\r\n        maxLength=\"40\"\r\n        onChange={handleNameChange}\r\n        required\r\n      />\r\n      <span\r\n        className=\"popup__field-error\"\r\n        id=\"profile__name-error\"\r\n      >\r\n      </span>\r\n      <input\r\n        className=\"popup__field\"\r\n        id=\"profile__description\"\r\n        name=\"about\"\r\n        type=\"text\"\r\n        value={description || ''}\r\n        minLength=\"2\"\r\n        maxLength=\"200\"\r\n        onChange={handleDescriptionChange}\r\n        required\r\n      />\r\n      <span\r\n        className=\"popup__field-error\"\r\n        id=\"profile__description-error\"\r\n      >\r\n      </span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditProfilePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from \"./PopupWithForm\";\r\n\r\nfunction EditAvatarPopup({ isOpen, onClose, onUpdateAvatar, isLoading, isolatePopup }) {\r\n  const avatarRef = React.useRef();\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n\r\n    onUpdateAvatar({\r\n      avatar: avatarRef.current\r\n    });\r\n  }\r\n\r\n  function handleLinkChange(evt) {\r\n    avatarRef.current = evt.target.value;\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Редактировать профиль'\r\n      buttonText={`${isLoading ? 'Сохранение...' : 'Сохранить'}`}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isolatePopup={isolatePopup}\r\n    >\r\n      <input\r\n        className=\"popup__field\"\r\n        id=\"avatar__link\"\r\n        name=\"avatar__link\"\r\n        type=\"url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        onChange={handleLinkChange}\r\n        required\r\n      />\r\n      <span\r\n        className=\"popup__field-error\"\r\n        id=\"avatar__link-error\"\r\n      >\r\n      </span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default EditAvatarPopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction AddPlacePopup({ isOpen, onClose, onAddPlace, isLoading, isolatePopup }) {\r\n  const [title, setTitle] = React.useState('');\r\n  const [link, setLink] = React.useState('');\r\n\r\n  function handleLinkChange(evt) {\r\n    setLink(evt.target.value);\r\n  }\r\n\r\n  function handleTitleChange(evt) {\r\n    setTitle(evt.target.value);\r\n  }\r\n\r\n  function handleSubmit(evt) {\r\n    evt.preventDefault();\r\n    onAddPlace({\r\n      name: title,\r\n      link: link\r\n    });\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='place'\r\n      title='Новое место'\r\n      buttonText={`${isLoading ? 'Загрузка...' : 'Создать'}`}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={handleSubmit}\r\n      isolatePopup={isolatePopup}\r\n    >\r\n    <input\r\n      className=\"popup__field\"\r\n      id=\"place__name\"\r\n      name=\"name\"\r\n      type=\"text\"\r\n      placeholder=\"Название\"\r\n      minLength=\"1\"\r\n      maxLength=\"30\"\r\n      onChange={handleTitleChange}\r\n      required\r\n    />\r\n    <span\r\n      className=\"popup__field-error\"\r\n      id=\"place__name-error\">\r\n    </span>\r\n    <input\r\n      className=\"popup__field\"\r\n      id=\"place__link\"\r\n      name=\"link\"\r\n      type=\"url\"\r\n      placeholder=\"Ссылка на картинку\"\r\n      onChange={handleLinkChange}\r\n      required\r\n    />\r\n    <span\r\n      className=\"popup__field-error\"\r\n      id=\"place__link-error\">\r\n    </span>\r\n    </PopupWithForm>\r\n  )\r\n}\r\n\r\nexport default AddPlacePopup;\r\n","import React from 'react';\r\nimport PopupWithForm from './PopupWithForm';\r\n\r\nfunction DeletionCardPopup({ isOpen, onClose, handleSubmit, card, isLoading, isolatePopup }) {\r\n\r\n  function submitDeletion(evt) {\r\n    evt.preventDefault();\r\n    handleSubmit(card);\r\n    onClose();\r\n  }\r\n\r\n  return (\r\n    <PopupWithForm\r\n      name='profile'\r\n      title='Вы уверены?'\r\n      buttonText={`${isLoading ? 'Удаление...' : 'Да'}`}\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n      onSubmit={submitDeletion}\r\n      isolatePopup={isolatePopup}\r\n    />\r\n  )\r\n}\r\n\r\nexport default DeletionCardPopup;\r\n","import React from 'react';\r\nimport { CurrentUserContext } from '../contexts/CurrentUserContext';\r\nimport api from '../utils/Api';\r\nimport Header from './Header';\r\nimport Main from './Main';\r\nimport Footer from './Footer';\r\nimport ImagePopup from './ImagePopup';\r\nimport EditProfilePopup from \"./EditProfilePopup\";\r\nimport EditAvatarPopup from './EditAvatarPopup';\r\nimport AddPlacePopup from './AddPlacePopup';\r\nimport DeletionCardPopup from './DeletionCardPopup';\r\n\r\nfunction App() {\r\n\tconst [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n\tconst [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n\tconst [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n\tconst [isImagePopupOpen, setIsImagePopupOpen] = React.useState(false);\r\n\tconst [isDeletionCardPopupOpen, setIsDeletionCardPopupOpen] = React.useState(false);\r\n  const [isLoading, setIsLoading] = React.useState(false);\r\n\tconst [selectedCard, setSelectedCard] = React.useState({});\r\n\tconst [currentUser, setCurrentUser] = React.useState({});\r\n\tconst [cards, setCards] = React.useState({});\r\n\r\n\tfunction handleCardLike(card) {\r\n    const isLiked = card.likes.some(item => item._id === currentUser._id);\r\n    api.changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n      const newCards = cards.map((data) => data._id === card._id ? newCard : data);\r\n      setCards(newCards);\r\n    })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api.deleteCard(card._id).then(() => {\r\n      const newCards = cards.filter(item => item !== card);\r\n      setCards(newCards);\r\n    })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleUpdateUser(user) {\r\n\t  setIsLoading(true);\r\n    api.setUserInfo(user)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        setIsLoading(false);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleUpdateAvatar(link) {\r\n    setIsLoading(true);\r\n    api.editAvatar(link)\r\n      .then((res) => {\r\n        setCurrentUser(res);\r\n        setIsLoading(false);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  function handleAddPlaceSubmit(data) {\r\n    setIsLoading(true);\r\n    api.setNewCard(data)\r\n      .then((res) => {\r\n        setCards([res, ...cards]);\r\n        setIsLoading(false);\r\n        closeAllPopups();\r\n      })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }\r\n\r\n  React.useEffect(() => {\r\n    setIsLoading(true);\r\n    const promises = [api.getUserInfo(), api.getInitialCards()];\r\n    Promise.all(promises)\r\n      .then((res) => {\r\n        const [userData, cardsList] = res;\r\n        setCurrentUser(userData)\r\n        setCards(cardsList);\r\n        setIsLoading(false);\r\n      })\r\n      .catch((err) => console.log(`Что-то пошло не так :( ${err}`))\r\n  }, [])\r\n\r\n\tfunction handleEditProfileClick() {\r\n\t\tsetIsEditProfilePopupOpen(true);\r\n    window.addEventListener('keydown', handleEscClick);\r\n\t}\r\n\r\n\tfunction handleAddPlaceClick() {\r\n\t\tsetIsAddPlacePopupOpen(true);\r\n    window.addEventListener('keydown', handleEscClick);\r\n\t}\r\n\r\n\tfunction handleEditAvatarClick() {\r\n\t\tsetIsEditAvatarPopupOpen(true);\r\n    window.addEventListener('keydown', handleEscClick);\r\n\t}\r\n\r\n\tfunction handleCardClick(data) {\r\n\t\tsetSelectedCard(data);\r\n\t\tsetIsImagePopupOpen(true);\r\n    window.addEventListener('keydown', handleEscClick);\r\n\t}\r\n\r\n  function handleDeletionCardClick(data) {\r\n    setSelectedCard(data);\r\n    setIsDeletionCardPopupOpen(true);\r\n    window.addEventListener('keydown', handleEscClick);\r\n  }\r\n\r\n  function handleEscClick(evt) {\r\n    if (evt.key === 'Escape') {\r\n      closeAllPopups();\r\n    }\r\n  }\r\n\r\n\tfunction closeAllPopups() {\r\n\t\tsetIsEditProfilePopupOpen(false);\r\n\t\tsetIsAddPlacePopupOpen(false);\r\n\t\tsetIsEditAvatarPopupOpen(false);\r\n    setIsImagePopupOpen(false);\r\n    setIsDeletionCardPopupOpen(false);\r\n\t\tsetSelectedCard({});\r\n\t\twindow.removeEventListener('keydown', handleEscClick);\r\n\t}\r\n\r\n  function isolatePopup(evt) {\r\n    evt.stopPropagation();\r\n  }\r\n\r\n\treturn (\r\n\t  <CurrentUserContext.Provider value={currentUser}>\r\n      <div className=\"page\">\r\n        <div className=\"content\">\r\n          <Header />\r\n          <Main\r\n            cards={cards}\r\n            onCardLike={handleCardLike}\r\n            onCardDelete={handleDeletionCardClick}\r\n            onEditProfile={handleEditProfileClick}\r\n            onEditAvatar={handleEditAvatarClick}\r\n            onAddPlace={handleAddPlaceClick}\r\n            onCardClick={handleCardClick}\r\n            isLoading={isLoading}\r\n          />\r\n          <Footer />\r\n          <EditProfilePopup\r\n            isOpen={isEditProfilePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateUser={handleUpdateUser}\r\n            isLoading={isLoading}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <AddPlacePopup\r\n            isOpen={isAddPlacePopupOpen}\r\n            onClose={closeAllPopups}\r\n            onAddPlace={handleAddPlaceSubmit}\r\n            isLoading={isLoading}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <EditAvatarPopup\r\n            isOpen={isEditAvatarPopupOpen}\r\n            onClose={closeAllPopups}\r\n            onUpdateAvatar={handleUpdateAvatar}\r\n            isLoading={isLoading}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <ImagePopup\r\n            name='image'\r\n            data={selectedCard}\r\n            onClose={closeAllPopups}\r\n            isOpen={isImagePopupOpen}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n          <DeletionCardPopup\r\n            isOpen={isDeletionCardPopupOpen}\r\n            onClose={closeAllPopups}\r\n            handleSubmit={handleCardDelete}\r\n            card={selectedCard}\r\n            isLoading={isLoading}\r\n            isolatePopup={isolatePopup}\r\n          />\r\n        </div>\r\n      </div>\r\n    </CurrentUserContext.Provider>\r\n\t);\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}